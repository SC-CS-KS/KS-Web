# SQL注入

* 风险等级：高

* 漏洞危害

SQL注入被广泛用于非法入侵网站服务器，获取网站控制权。它是应用层上的一种安全漏洞。
通常在设计存在缺陷的程序中，对用户输入的数据没有做好过滤，导致恶意用户可以构造一些SQL语句让服务器去执行，
从而导致数据库中的数据被窃取、篡改或删除甚至最终导致服务器被入侵等危害。

* 修复办法

对所有输入/输出的参数在进入数据库调用之前，进行严格过滤和检测，要解决SQL注入漏洞，建议采取以下方式：
```text
1、传入的参数明确类型，如果参数是数字，应检查参数输入的内容是否是数字，
    如果检查到其它类型，则应进行错误处理，避免进入数据库调用

2、对传入的参数中含有特殊字符，应进行转义处理，比如单引号；
    对数据库关键字如“select”、“update”、“insert”、“and”等进行过滤处理，
    同时应该具备严格匹配策略，防止攻击者通过大小写、编码等方式绕过限制

3、对传入的参数的检测，都应该在服务器端进行

4、进行异常处理，避免出错时暴露敏感信息

5、合理配置数据库连接用户的权限，应实现权限最小化原则

6、建议使用参数化查询或预编译的方式进行数据库查询
```
